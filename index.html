<!DOCTYPE html>
<html>
  <head>
    <style media="screen">
      html {
        background: lightgray;
      }
      canvas {
        background: darkgray;
      }
    </style>
    <meta charset="utf-8">
    <title>Asteroids</title>
  </head>
  <body>
	<h1>Asteroids</h1>
    <canvas id="asteroids_canvas" width="800" height="500"></canvas>

    <script src="lib/keymaster.js"></script>
    <script src="lib/util.js"></script>
    <script src="lib/movingObject.js"></script>
    <script src="lib/asteroid.js"></script>
    <script src="lib/ship.js"></script>
    <script src="lib/bullet.js"></script>
    <script src="lib/game.js"></script>
    <script src="lib/gameView.js"></script>
    <script>
      var canvasEl = document.getElementById("asteroids_canvas");
      var context = canvasEl.getContext('2d');

      var gameView = new Asteroids.GameView(context);
      gameView.start();

      keys = [];
      canvasEl.setAttribute("tabindex", 0);
      canvasEl.focus();

      canvasEl.addEventListener("keydown", function (e) {
        keys[e.keyCode] = true;
      });

      canvasEl.addEventListener("keyup", function (e) {
        keys[e.keyCode] = false;
      });

      setInterval(function () {
        var i, l = keys.length;
        for (i = 0; i < l; i += 1) {
          if (keys[i]) {
            gameView.registerKey(i);
          }
        }
      }, 1000 / 24);
			
    </script>
  </body>
</html>
